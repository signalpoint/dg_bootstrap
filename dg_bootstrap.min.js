function dg_bootstrap_blocks_build_alter(t){t.main_menu&&(t.main_menu._attributes.class.push("navbar-collapse","collapse","navbar-left"),t.main_menu._attributes["aria-expanded"]="false",t.main_menu._attributes.style="height: 1px;",t.main_menu._prefix=dg.render({_theme:"container",_attributes:{class:["navbar-header"]},_children:{button:{_theme:"button",_attributes:{id:t.main_menu._attributes.id+"-button",type:"button",class:["navbar-toggle","collapsed"],"data-toggle":"collapse","data-target":"#main-menu","aria-expanded":"false","aria-controls":"navbar"},_postRender:[function(){for(var a=t.main_menu._content.menu,e="",r=0;r<a._items.length;r++)e+=0==r?'<span class="sr-only">Toggle navigation</span>':'<span class="icon-bar"></span>',e+="<span></span>";var s=document.getElementById(t.main_menu._attributes.id+"-button");s&&(s.innerHTML=e)}]},brand:{_markup:'<a class="navbar-brand" href="#">'+dg.config("title")+"</a>"}}}))}function dg_bootstrap_block_view_alter(t,a){switch(a.get("id")){case"main_menu":t.menu._weight=1,t.menu._attributes.class.push("nav","navbar-nav");break;case"user_menu":t.menu._attributes.class.push("nav","navbar-nav","navbar-right");break;case"powered_by":t.list._items.push(dg.l("Bootstrap","http://getbootstrap.com")),t.list._items.reverse(),t.list._attributes.class.push("navbar");break;case"primary_local_tasks":if(t&&t.local_tasks){var e=t.local_tasks;e._attributes.class.push("nav","nav-tabs");for(var r=dg.getPath(),s=0;s<e._items.length;s++){var n=e._items[s];if("list_item"==n._theme){n._attributes.class.push("nav-item");var i=n._text;i._attributes.class.push("nav-link"),i._path&&r==i._path&&i._attributes.class.push("active")}}}}}function dg_bootstrap_form_alter(t,a,e){return new Promise(function(a,r){t._attributes.role="form",t._after_build.push("dg_bootstrap.afterBuild");var s=function(a){switch(a._type){case"actions":for(var e in a)dg.isFormElement(n,t)&&dg_bootstrap.formElementAddAttributes(a[e]);break;default:dg_bootstrap.formElementAddAttributes(a)}};for(var n in t)t.hasOwnProperty(n)&&dg.isFormElement(n,t)&&s(t[n]);switch(e){case"UserLoginForm":"burrito"==dg.config("theme").name&&"user/login"!=dg.getPath()&&t._attributes.class.push("navbar-form navbar-right")}a()})}dg.createModule("dg_bootstrap"),dg_bootstrap.autocompleteInit=function(t){t._text_input||(t._text_input={}),t._text_input._attributes||(t._text_input._attributes={}),t._text_input._attributes.class||(t._text_input._attributes.class=[]);var a=t._text_input._attributes.class;"string"==typeof a&&(a=a.split(" ")),t._text_input._attributes.class=a,t._text_input._attributes.class.push("form-control")},dg_bootstrap.afterBuild=function(t,a){for(var e in t)if(dg.isFormElement(e,t)&&"undefined"!=typeof t[e]._children){t[e]._attributes||(t[e]._attributes={class:[]});var r=!1,s=!1;for(var n in t[e]._children)if(dg.isFormElement(n,t[e]._children)){var i=t[e]._children[n];if(i._type){if("actions"===i._type)for(var o in i)dg.isFormElement(o,i)&&dg_bootstrap.formElementAddAttributes(i[o])}else dg_bootstrap.formElementAddAttributes(i);if("element"===n){var l=i.element._type;"checkbox"===l&&(r=!0),"radio"===l&&(s=!0)}}var _=r||s?"form-check":"form-group";if(!dg.inArray(_,t[e]._attributes.class)){var u=t[e]._attributes.class;u.push(_),u.push(_+"-"+dg.killCamelCase(e,"-"))}}},dg_bootstrap.formElementAddAttributes=function(t){switch(t._type){case"submit":switch(t._button_type){case"primary":default:t._attributes.class.push("btn btn-primary")}break;case"email":case"number":case"password":case"select":case"textarea":case"textfield":t._attributes.class.push("form-control");break;case"radio":break;case"checkbox":case"radio":t._attributes.class.push("form-check-input"),t._label||(t._label={},dg.attributesInit(t._label)),t._label._attributes.class.push("form-check-label");break;default:"autocomplete"===t._type&&dg_bootstrap.autocompleteInit(t)}},dg.b=function(t,a){a||(a={}),dg.elementAttributesInit(a);var e=a._type?a._type:"primary";return dg_bootstrap.addBtnClasses(a,e),a._value||(a._value=t),dg.theme("button",a)},dg.bl=function(t,a,e){e||(e={}),dg.elementAttributesInit(e);var r=e._type?e._type:"link";return dg_bootstrap.addBtnClasses(e,r),e._attributes.role||(e._attributes.role="button"),dg.l(t,a,e)},dg_bootstrap.addBtnClasses=function(t,a){var e=t._attributes.class;dg.inArray("btn",e)||e.push("btn"),dg.inArray("btn-"+a,e)||e.push("btn-"+a)},dg_bootstrap.helloWorldController=function(){var t=dg.currentUser(),a=t.isAuthenticated()?dg.t("Hello @name.",{"@name":t.getAccountName()}):dg.t("Hello World"),e={};return e.my_widget={_markup:"<p>"+a+"</p>"},e},dg.theme_bootstrap_autocomplete=function(t){return dg_bootstrap.autocompleteInit(t),dg.theme("autocomplete",t)},dg.theme_i=function(t){var a=t._text?t._text:"";return"<i "+dg.attrs(t)+">"+a+"</i>"},dg.i=function(t,a){var e={_attributes:{class:["fa fa-"+t],"aria-hidden":"true"}};return arguments[1]&&(e._text=arguments[1]),dg.theme("i",e)},dg.theme_bootstrap_item_list=function(t){var a="list-group",e=t._attributes.class;dg.inArray(a,e)||e.push("list-group");var r=t._items?t._items:null;if(r)for(var s=0;s<r.length;s++)t._items[s]=dg_bootstrap.prepListItem(r[s]);return dg.theme("item_list",t)},dg_bootstrap.prepListItem=function(t){"string"==typeof t&&(t={_text:t}),dg.attributesInit(t);var a="list-group-item",e=t._attributes.class;return dg.inArray(a,e)||e.push(a),t},dg.theme_message=function(t){var a=t._format?t._format:"div",e=t._type?t._type:null,r=t._attributes.class,s="alert";if(dg.inArray(s,r)||r.push(s),e){var n={status:"success",warning:"warning",error:"danger"};r.push("alert-"+(n[e]?n[e]:e))}return"<"+a+" "+dg.attrs(t)+">"+t._message+"</"+a+">"},dg.theme_bootstrap_navbar=function(t){var a=t._logo?t._logo:null,e=t._title?t._title:dg.config("title"),r=t._primary?t._primary:[],s=t._secondary?t._secondary:[],n="",i={class:"navbar-header"},o={type:"button",class:"navbar-toggle collapsed","data-toggle":"collapse","data-target":"#navbar","aria-expanded":"false","aria-controls":"navbar"};if(n+="<div "+dg.attributes(i)+">",a){var l={href:"#",class:"navbar-left"};n+="<a "+dg.attributes(l)+">"+a+"</a>"}n+="<button "+dg.attributes(o)+'><span class="sr-only">'+dg.t("Toggle navigation")+'</span><span class="icon-bar"></span><span class="icon-bar"></span><span class="icon-bar"></span></button>',n+='<a class="navbar-brand" href="#">'+e+"</a>",n+="</div>";var _={id:"navbar",class:"navbar-collapse collapse"};if(n+="<div "+dg.attributes(_)+">",r.length){var u={class:"nav navbar-nav"};n+=dg.theme("item_list",{_attributes:u,_items:r})}if(s.length){var d={class:"nav navbar-nav navbar-right"};n+=dg.theme("item_list",{_attributes:d,_items:s})}return n+="</div>"},dg.theme_bootstrap_panel=function(t){var a=t._type?t._type:"default";t._attributes.class.push("panel","panel-"+a);var e=t._heading?'<div class="panel-heading">'+t._heading+"</div>":"",r=t._body?'<div class="panel-body">'+t._body+"</div>":"",s=t._footer?'<div class="panel-footer">'+t._footer+"</div>":"";return"<div "+dg.attributes(t._attributes)+">"+e+r+s+"</div>"};